// Translations for Classes page
const classesTranslations = {
    es: {
        title: 'Clases y Cursos - Germán Rosati',
        subtitle: 'Docencia en métodos cuantitativos, ciencias sociales computacionales y análisis de datos',
        currentTitle: 'Actuales',
        previousTitle: 'Anteriores',
        undergrad: 'Grado',
        postgrad: 'Posgrado',
        courses: {
            current: {
                undergrad: [
                    {
                        title: 'Métodos Cuantitativos y Ciencias Sociales Computacionales',
                        institution: 'Licenciaturas de Sociología y Antropología, EIDAES-UNSAM',
                        link: 'Acceder a materiales del curso',
                        url: 'https://gefero.github.io/factor_data_track_CSS/'
                    },
                    {
                        title: 'Fundamentos del Procesamiento del Lenguaje Natural',
                        institution: 'Licenciatura en Ciencia de Datos, ECyT-UNSAM'
                    }
                ],
                postgrad: [
                    {
                        title: 'Visualización de la Información',
                        institution: 'Maestría en Explotación de Datos y Descubrimiento de Conocimiento, Facultad de Ciencias Exactas y Naturales, UBA'
                    }
                ]
            },
            previous: {
                postgrad: [
                    {
                        year: '2023',
                        title: 'Ciencias Sociales Computacionales, Big Data y Machine Learning. Un mapa de situación del giro computacional en las ciencias sociales',
                        institution: 'Instituto de Desarrollo Económico/ Universidad Nacional de Tres de Febrero (IDES/UNTREF)'
                    },
                    {
                        year: '2021',
                        title: 'Introducción a la minería de textos y procesamiento de lenguaje natural para ciencias sociales',
                        institution: 'Doctorado en Sociología, Escuela IDAES, Universidad Nacional de San Martín'
                    },
                    {
                        year: '2021',
                        title: 'Visualización de Datos',
                        institution: 'Doctorado en Sociología, Escuela IDAES, Universidad Nacional de San Martín'
                    },
                    {
                        year: '2020',
                        title: 'Ciencia de Datos y Machine Learning. Aplicaciones en R',
                        institution: 'Maestría en Generación y Análisis de Información Estadística, Universidad Nacional de Tres de Febrero'
                    },
                    {
                        year: '2019-2020',
                        title: 'Machine Learning en Aplicaciones Espaciales',
                        institution: 'Curso de posgrado Big Data e Inteligencia Territorial, Facultad Latinoamericana de Ciencias Sociales (FLACSO)'
                    },
                    {
                        year: '2019',
                        title: 'Análisis de la Estructura Social Argentina',
                        institution: 'Doctorado en Ciencias Sociales, Facultad de Ciencias Sociales, UBA'
                    },
                    {
                        year: '2019',
                        title: 'Introducción a la Ciencia de Datos para Científicos Sociales',
                        institution: 'Posgrado en Métodos y técnicas para la investigación aplicada a la realidad socioeconómica regional, Universidad Nacional de Santiago del Estero'
                    },
                    {
                        year: '2016-2019',
                        title: 'Fundamentos de la Programación Estadística y Data Mining en lenguaje R',
                        institution: 'Curso de posgrado/extracurricular, Maestría en Generación y Análisis de Información Estadística, Universidad Nacional de Tres de Febrero'
                    }
                ],
                undergrad: [
                    {
                        year: '2024',
                        title: 'Introducción a la Visualización y Simulación Interactivas e Inmersivas',
                        institution: 'Profesor invitado, Departamento de Computación, Facultad de Ciencias Exactas y Naturales, UBA'
                    },
                    {
                        year: '2012-2017',
                        title: 'Estadística y Técnicas de Computación Aplicadas a la Investigación en Ciencias Sociales',
                        institution: 'Profesor Titular Ordinario, Facultad de Ciencias Sociales, Universidad del Salvador, Argentina'
                    }
                ]
            }
        }
    },
    en: {
        title: 'Classes and Courses - Germán Rosati',
        subtitle: 'Teaching in quantitative methods, computational social sciences, and data analysis',
        currentTitle: 'Current',
        previousTitle: 'Previous',
        undergrad: 'Undergraduate',
        postgrad: 'Graduate',
        courses: {
            current: {
                undergrad: [
                    {
                        title: 'Quantitative Methods and Computational Social Sciences',
                        institution: 'Sociology and Anthropology Programs, EIDAES-UNSAM',
                        link: 'Access course materials',
                        url: 'https://gefero.github.io/factor_data_track_CSS/'
                    },
                    {
                        title: 'Fundamentals of Natural Language Processing',
                        institution: 'Data Science Program, ECyT-UNSAM'
                    }
                ],
                postgrad: [
                    {
                        title: 'Information Visualization',
                        institution: 'Master\'s in Data Mining and Knowledge Discovery, Faculty of Exact and Natural Sciences, UBA'
                    }
                ]
            },
            previous: {
                postgrad: [
                    {
                        year: '2023',
                        title: 'Computational Social Sciences, Big Data and Machine Learning. A situational map of the computational turn in social sciences',
                        institution: 'Institute of Economic Development / National University of Tres de Febrero (IDES/UNTREF)'
                    },
                    {
                        year: '2021',
                        title: 'Introduction to text mining and natural language processing for social sciences',
                        institution: 'PhD in Sociology, IDAES School, National University of San Martín'
                    },
                    {
                        year: '2021',
                        title: 'Data Visualization',
                        institution: 'PhD in Sociology, IDAES School, National University of San Martín'
                    },
                    {
                        year: '2020',
                        title: 'Data Science and Machine Learning. Applications in R',
                        institution: 'Master\'s in Generation and Analysis of Statistical Information, National University of Tres de Febrero'
                    },
                    {
                        year: '2019-2020',
                        title: 'Machine Learning in Spatial Applications',
                        institution: 'Graduate course Big Data and Territorial Intelligence, Latin American Faculty of Social Sciences (FLACSO)'
                    },
                    {
                        year: '2019',
                        title: 'Analysis of Argentine Social Structure',
                        institution: 'PhD in Social Sciences, Faculty of Social Sciences, UBA'
                    },
                    {
                        year: '2019',
                        title: 'Introduction to Data Science for Social Scientists',
                        institution: 'Graduate program in Methods and techniques for research applied to regional socioeconomic reality, National University of Santiago del Estero'
                    },
                    {
                        year: '2016-2019',
                        title: 'Fundamentals of Statistical Programming and Data Mining in R',
                        institution: 'Graduate/extracurricular course, Master\'s in Generation and Analysis of Statistical Information, National University of Tres de Febrero'
                    }
                ],
                undergrad: [
                    {
                        year: '2024',
                        title: 'Introduction to Interactive and Immersive Visualization and Simulation',
                        institution: 'Guest Professor, Computer Science Department, Faculty of Exact and Natural Sciences, UBA'
                    },
                    {
                        year: '2012-2017',
                        title: 'Statistics and Computer Techniques Applied to Social Science Research',
                        institution: 'Tenured Professor, Faculty of Social Sciences, Universidad del Salvador, Argentina'
                    }
                ]
            }
        }
    }
};

// Update classes content based on language
function updateClassesContent(lang) {
    const t = classesTranslations[lang];
    
    // Update document title and subtitle
    document.title = t.title;
    
    const subtitle = document.querySelector('[data-i18n="classes.subtitle"]');
    if (subtitle) {
        subtitle.textContent = t.subtitle;
    }
    
    // Build HTML content
    let html = `
        <h2>${t.currentTitle}</h2>
        <h3>${t.undergrad}</h3>
    `;
    
    // Current undergraduate courses
    t.courses.current.undergrad.forEach(course => {
        html += `
            <div class="course-item">
                <div class="course-title">${course.title}</div>
                <div class="course-institution">${course.institution}</div>
        `;
        if (course.link && course.url) {
            html += `
                <p style="margin-top: 1rem; margin-bottom: 0;">
                    <a href="${course.url}" target="_blank">→ ${course.link}</a>
                </p>
            `;
        }
        html += `</div>`;
    });
    
    html += `<h3>${t.postgrad}</h3>`;
    
    // Current postgraduate courses
    t.courses.current.postgrad.forEach(course => {
        html += `
            <div class="course-item">
                <div class="course-title">${course.title}</div>
                <div class="course-institution">${course.institution}</div>
            </div>
        `;
    });
    
    html += `<h2>${t.previousTitle}</h2><h3>${t.postgrad}</h3>`;
    
    // Previous postgraduate courses
    t.courses.previous.postgrad.forEach(course => {
        html += `
            <div class="course-item">
                <div class="course-year">${course.year}</div>
                <div class="course-title">${course.title}</div>
                <div class="course-institution">${course.institution}</div>
            </div>
        `;
    });
    
    html += `<h3>${t.undergrad}</h3>`;
    
    // Previous undergraduate courses
    t.courses.previous.undergrad.forEach(course => {
        html += `
            <div class="course-item">
                <div class="course-year">${course.year}</div>
                <div class="course-title">${course.title}</div>
                <div class="course-institution">${course.institution}</div>
            </div>
        `;
    });
    
    document.getElementById('classesContent').innerHTML = html;
}

// Override the updateLanguage function
const originalUpdateLanguage = window.updateLanguage;
window.updateLanguage = function(lang) {
    if (originalUpdateLanguage) {
        originalUpdateLanguage(lang);
    }
    updateClassesContent(lang);
};

// Initialize content on page load
document.addEventListener('DOMContentLoaded', () => {
    const currentLang = getCurrentLanguage();
    updateClassesContent(currentLang);
});
